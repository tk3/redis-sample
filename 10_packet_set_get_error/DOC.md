

## エラー処理を実装する

- SETコマンドで引数が足りない時
- GETコマンドで引数が足りない時
- GETコマンドで、値が存在しないキーを指定した場合



###

```
$ redis-cli -p 16379
127.0.0.1:16379> set
(error) ERR wrong number of arguments for 'set' command
127.0.0.1:16379> get
(error) ERR wrong number of arguments for 'get' command
127.0.0.1:16379> get 404
(nil)
```

```
Sep 21 08:39:48.031209 139805525301056 3 5>6 2a 31 0d 0a 24 33 0d 0a  *1..$3..
Sep 21 08:39:48.031248 139805525301056 3 5>6 73 65 74 0d 0a           set..
Sep 21 08:39:48.031408 139805525301056 3 5<6 2d 45 52 52 20 77 72 6f  -ERR wro
Sep 21 08:39:48.031445 139805525301056 3 5<6 6e 67 20 6e 75 6d 62 65  ng numbe
Sep 21 08:39:48.031461 139805525301056 3 5<6 72 20 6f 66 20 61 72 67  r of arg
Sep 21 08:39:48.031474 139805525301056 3 5<6 75 6d 65 6e 74 73 20 66  uments f
Sep 21 08:39:48.031488 139805525301056 3 5<6 6f 72 20 27 73 65 74 27  or 'set'
Sep 21 08:39:48.031505 139805525301056 3 5<6 20 63 6f 6d 6d 61 6e 64   command
Sep 21 08:39:48.031516 139805525301056 3 5<6 0d 0a                    ..


Sep 21 08:39:58.119393 139805525301056 3 5>6 2a 31 0d 0a 24 33 0d 0a  *1..$3..
Sep 21 08:39:58.119413 139805525301056 3 5>6 67 65 74 0d 0a           get..
Sep 21 08:39:58.119606 139805525301056 3 5<6 2d 45 52 52 20 77 72 6f  -ERR wro
Sep 21 08:39:58.119633 139805525301056 3 5<6 6e 67 20 6e 75 6d 62 65  ng numbe
Sep 21 08:39:58.119644 139805525301056 3 5<6 72 20 6f 66 20 61 72 67  r of arg
Sep 21 08:39:58.119654 139805525301056 3 5<6 75 6d 65 6e 74 73 20 66  uments f
Sep 21 08:39:58.119663 139805525301056 3 5<6 6f 72 20 27 67 65 74 27  or 'get'
Sep 21 08:39:58.119673 139805525301056 3 5<6 20 63 6f 6d 6d 61 6e 64   command
Sep 21 08:39:58.119680 139805525301056 3 5<6 0d 0a                    ..


Sep 21 08:40:15.750956 139805525301056 3 5>6 2a 32 0d 0a 24 33 0d 0a  *2..$3..
Sep 21 08:40:15.750983 139805525301056 3 5>6 67 65 74 0d 0a 24 33 0d  get..$3.
Sep 21 08:40:15.750991 139805525301056 3 5>6 0a 34 30 34 0d 0a        .404..
Sep 21 08:40:15.751537 139805525301056 3 5<6 24 2d 31 0d 0a           $-1..```
```

### レスポンスのみ注目


```
-ERR wrong number of arguments for 'set' command\r\n
```

```
-ERR wrong number of arguments for 'get' command\r\n
```

```
$-1\r\n
```

